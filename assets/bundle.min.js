function app(t){var e=instantsearch({appId:t.appId,apiKey:t.apiKey,indexName:t.indexName,urlSync:!0});e.addWidget(instantsearch.widgets.searchBox({container:"#search-input",placeholder:"Search"})),e.addWidget(instantsearch.widgets.hits({container:"#hits",hitsPerPage:10,templates:{item:getTemplate("hit"),empty:getTemplate("no-results")},transformData:{item:function(t){return"Articles"==t.content_type||"Analysis"==t.content_type?t.formattedDate='<span class="articleMeta hit-date">Posted on <span class="articleDate">'+t.date+"</span></span>":t.formattedDate=null,t}}})),e.addWidget(instantsearch.widgets.stats({container:"#stats",templates:{body:"{{{nbHits}}} total results | Page {{{currentPage}}} of {{{nbPages}}}"},transformData:function(t){return{currentPage:t.page+1,nbHits:t.nbHits,nbPages:t.nbPages}}})),e.addWidget(instantsearch.widgets.sortBySelector({container:"#sort-by",autoHideContainer:!0,indices:[{name:t.indexName,label:"Date DESC"},{name:"india_states_date_asc",label:"Date ASC"}]})),e.addWidget(instantsearch.widgets.pagination({container:"#pagination",scrollTo:"#search-input",labels:{previous:"&#8249; Previous",next:"Next &#8250;"}})),e.addWidget(instantsearch.widgets.refinementList({container:"#content_type",attributeName:"content_type",sortBy:["isRefined","count:desc","name:asc"],limit:10,operator:"or",templates:{header:getHeader("Type")}})),e.addWidget(instantsearch.widgets.refinementList({container:"#states",attributeName:"states",sortBy:["isRefined","count:desc","name:asc"],limit:10,operator:"or",templates:{header:getHeader("States")},searchForFacetValues:{placeholder:"Search for states",templates:{noResults:'<div class="sffv_no-results">No matching states.</div>'}}})),e.addWidget(instantsearch.widgets.refinementList({container:"#sectors",attributeName:"sectors",sortBy:["isRefined","count:desc","name:asc"],limit:10,operator:"or",templates:{header:getHeader("Sectors")}})),e.addWidget(instantsearch.widgets.refinementList({container:"#tags",attributeName:"tags",sortBy:["isRefined","count:desc","name:asc"],limit:10,operator:"or",searchForFacetValues:{placeholder:"Search for tags",templates:{noResults:'<div class="sffv_no-results">No matching tags.</div>'}},templates:{header:getHeader("Tags")}})),e.start()}function getTemplate(t){return document.querySelector("#"+t+"-template").innerHTML}function getHeader(t){return'<h4 class="sectionSubtitle">'+t+"</h4>"}function highlightState(t,e){var a=$("path#"+t+", #"+t+" path");"highlight"==e?a.addClass("active"):a.removeClass("active")}function highlightList(t,e){var a=$("a[data-state='"+t+"']");"highlight"==e?a.addClass("active"):a.removeClass("active")}$(function(){var t=$(window).height()/2,e=250,a=500;$(window).scroll(function(){$(this).scrollTop()<t?$(".backToTop-container").fadeOut(a):$(".backToTop-container").fadeIn(a)}),$(".backToTop-container").on("click",function(){return $("html, body").animate({scrollTop:0},e),!1})}),$(function(){if($(".breadcrumbs-extended").length){var t=$(".header-breadcrumbsContainer"),e=$(".breadcrumbs-extended"),a=$(".site-header").height(),n=e.outerHeight(),s=n;"none"!=$(".tableOfContents-dropdown").css("display")&&$(".tableOfContents.fixedMobile").css({position:"static"}),$(document).scroll(function(){$(this).scrollTop()>=s&&t.hasClass("useExtended")?(t.removeClass("useExtended").addClass("notExtended"),"none"!=$(".tableOfContents-dropdown").css("display")&&$(".tableOfContents.fixedMobile").css({position:"fixed",top:a+"px","z-index":51})):$(this).scrollTop()<=s&&t.hasClass("notExtended")&&(t.removeClass("notExtended").addClass("useExtended"),"none"!=$(".tableOfContents-dropdown").css("display")&&$(".tableOfContents.fixedMobile").css({position:"static",top:"initial","z-index":"initial"}))})}if($(".header-breadcrumbs").height()>$(".header-breadcrumbsContainer").height()){$(".header-breadcrumbsContainer").css({height:"initial","padding-top":"0.2rem","padding-bottom":"0.2rem"});var i=$(".site-header").outerHeight();$("body").css("padding-top",i)}}),$(function(){$(".home-body").length&&($(".home-dropdownContainer button").click(function(){var t=$(this).attr("id");$("#"+t).closest(".home-dropdownContainer").toggleClass("open"),$(".home-dropdownMenu[data-dropdown='"+t+"']").slideToggle()}),$(document).click(function(t){$(t.target).closest(".home-dropdownContainer").length||$(".home-dropdownContainer").hasClass("open")&&($(".home-dropdownContainer .home-dropdownMenu").slideUp(),$(".home-dropdownContainer").removeClass("open"))}))}),$(function(){var t=[];$("polygon").each(function(){var e=$(this).attr("id"),a=$(this).attr("points");t.push({name:e,path:"M"+a})}),$("#mapContainer").text(JSON.stringify(t))}),$(function(){function t(){$(".progress-wrap").each(function(){var t=$(this).data("progress-percent")/100,e=$(this).width(),a=t*e,n=2500;$(this).children(".progress-bar").stop().animate({width:a},n)})}t(),$(window).resize(function(){t()});var e=document.querySelectorAll(".tip-content");window.onmousemove=function(t){for(var a=t.clientX+20+"px",n=t.clientY+20+"px",s=0;s<e.length;s++)e[s].style.top=n,e[s].style.left=a}}),$(function(){var t=$("#nav-toggle").css("display");"none"!=t&&($("#nav-toggle").click(function(){$(this).toggleClass("active")}),$(".ss-nav > a").click(function(t){t.preventDefault(),$(this).siblings("ul").toggle()}),$(".header-navigationSiteOverlay").click(function(){$("#toggleMenu").prop("checked",!1),$("#nav-toggle").toggleClass("active")})),$(window).resize(function(){t=$("#nav-toggle").css("display")})}),$(function(){function t(){if(0!=$(".pagination-posts-container").length){var t,a,n,s=window.location.hash.replace("#",""),i=1;s?(t=s.substr(s.indexOf("subsector=")).split("&")[0].split("=")[1],a=s.substr(s.indexOf("sort=")).split("&")[0].split("=")[1],n=s.substr(s.indexOf("order=")).split("&")[0].split("=")[1],i=s.substr(s.indexOf("page=")).split("&")[0].split("=")[1],t&&($("a.sort-attribute").each(function(){var e=$(this).attr("href"),a=$(this).data("sort"),n="#subsector="+t+"&"+a;$(this).attr("href",e.replace(e,n))}),$(".subsector-link").removeClass("active"),$(".subsector-link[data-show-subsector='"+t+"']").first().addClass("active")),$("a.sort-attribute").removeClass("active"),$("a.sort-attribute[data-sort='sort="+a+"&order="+n+"']").addClass("active")):$(".subsector-link[data-show-subsector='all']").addClass("active"),a||($(".sort-attribute").removeClass("active"),$("a.sort-attribute[data-sort='sort=date&order=desc']").addClass("active")),$(".pagination-pagesContainer a").removeClass("active"),$('.pagination-pagesContainer a[data-page="'+i+'"]').addClass("active"),e(t,a,n,i)}}function e(t,e,o,r){e=e||"date",o=o||"desc",r=r||1;var c=0;if("undefined"===subsectorFiltering||1!=subsectorFiltering||t||(t="all"),r>1)var l=posts_per_page*(r-1),d=posts_per_page*r-1;else var l=0,d=posts_per_page-1;$(".pagination-posts-container").empty();var p;if("date"==e?(p=t?postsPaginateMainObject[t]:postsPaginateMain,showSubheaders=!1):(p=t?postsPaginateSecondaryObject[t]:postsPaginateSecondary,showSubheaders=!0),1==subsectorFiltering&&"all"!=t?($(".subsectorFiltering-subsectorTitle").html(subsectorInfoObject[t].title),$(".subsectorFiltering-subsectorTitle").show("fast"),$(".subsectorFiltering-subsectorInfo span").html($.parseHTML(unescape(subsectorInfoObject[t].content))),$(".subsectorFiltering-subsectorInfo").show("fast")):"all"==t&&($(".subsectorFiltering-subsectorTitle").hide("fast"),$(".subsectorFiltering-subsectorInfo").hide("fast")),void 0==p||0==p.length)s();else{"desc"==o?p.sort(i("-"+e)):p.sort(i(e)),c=p.length;var h=p.slice(l,d+1);a(h,showSubheaders,t),n(c,d,t,e,o,r)}}function a(t,e,a){$.each(t,function(t,n){if(n.state){var s=n.state.replace(" ","");e&&0==$("#"+s).length&&(subsectorFiltering?total=postsPaginateSecondaryTotal[n.state][a]:total=postsPaginateSecondaryTotal[n.state],$(".pagination-posts-container").append("<h3 class='sectionTitle pagination-sectionTitle' id='"+s+"'>"+n.state+"</h3>"))}else if(n.sector){var i=n.sector.replace(" ","");e&&0==$("#"+i).length&&$(".pagination-posts-container").append("<h3 class='sectionTitle pagination-sectionTitle' id='"+i+"'>"+n.sector+"</h3>")}$(".pagination-posts-container").append($.parseHTML(unescape(n.postHtml)))})}function n(t,e,a,n,s,i){var o=Math.ceil(t/posts_per_page);if($(".pagination-pagesContainer").empty(),o>1){if(a)var r="#subsector="+a+"&amp;sort="+n+"&amp;order="+s+"&amp;page=";else var r="#sort="+n+"&amp;order="+s+"&amp;page=";if(i=parseInt(i),i>1){$(".pagination-pagesContainer").append("<a href='"+r+"1' data-page='1' class='next-prev'>«</a>");var c=i-1;$(".pagination-pagesContainer").append("<a href='"+r+c+"' data-page='"+c+"' class='next-prev'>&#8249; Previous</a>")}if(o>5&&i>=4){var l=i-2;if(i+2>o)var d=o;else var d=i+2}else if(o>5&&4>i)var l=1,d=5;else var l=1,d=o;for(var p=l;d>=p;p++){if(p==i)var h="active";else var h="";$(".pagination-pagesContainer").append("<a href='"+r+p+"' class='"+h+"' data-page='"+p+"'><button class='btn-gray'>"+p+"</button></a>")}if(o>i){var g=i+1;$(".pagination-pagesContainer").append("<a href='"+r+g+"' data-page='"+g+"' class='next-prev'>Next &#8250;</a>"),$(".pagination-pagesContainer").append("<a href='"+r+o+"' data-page='"+o+"' class='next-prev'>»</a>")}}$(".pagination-totalResults").html(t+" total results | Page "+i+" of "+o)}function s(){$(".pagination-totalResults").html("0 total results"),$(".pagination-posts-container").html("<p class='noResults'>There are currently no related articles in this subsector.</p>"),$(".pagination-pagesContainer").empty()}function i(t){var e=1;return"-"===t[0]&&(e=-1,t=t.substr(1)),function(a,n){if(!a.is_featured&&n.is_featured)return 1;if(a.is_featured&&!n.is_featured)return-1;var s=a[t]<n[t]?-1:a[t]>n[t]?1:0;return s*e}}window.onhashchange=t,t(),$(".sort-dropdown").length&&$(".sort-dropdown").on("change",function(){var t=$(this).val();window.location=t}),$(".pagination-pagesContainer").on("click","a",function(){var t=$(".pagination-sortByContainer").offset().top-$(".site-header").outerHeight();$("html, body").scrollTop(t)})}),$(function(){function t(t,e){$(".post-listing[data-sector='"+t+"'] .active").removeClass("active").addClass("hidden"),$(".post-listing[data-sector='"+t+"'] [data-subsector='"+e+"']").removeClass("hidden").addClass("active")}var e=window.location.hash.replace("#",""),a=e.substr(e.indexOf("subsector=")).split("&")[0].split("=")[1],n=$(".post-listing").data("sector");a&&t(n,a),$(".subsector-link").click(function(){var e=$(this).data("sector"),a=$(this).data("show-subsector");t(e,a)})}),$(function(){$(".site-header .search-icon").click(function(){-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0?location.href="/search/":$(".search-overlay").show()}),document.onkeydown=function(t){t=t||window.event;var e=!1;e="key"in t?"Escape"==t.key||"Esc"==t.key:27==t.keyCode,e&&$(".search-overlay").hide()},$(".search-overlay .search-closeIcon").click(function(){$(".search-overlay").hide()})}),$(".search-container").length&&app({appId:"7UNKAH6RMH",apiKey:"b9011cf7f49e60630161fcacf0e37d02",indexName:"india_states"}),$(function(){$("body").on("click",".share-print.printIndividual",function(){var t=$(this).parents(".post-articleContainer"),e=$(".page-content").html(),a=t.html();$(".page-content").html(a),window.print(),$(".page-content").html(e)}),$("body").on("click",".share-print.printEntire",function(){$(".printable").removeClass("printable"),$("body").addClass("printable"),window.print()}),$("body").on("click",".share-social",function(t){t.preventDefault()}),$(".share-social").hover(function(){$(this).children(".share-socialContainer").show()},function(){$(this).children(".share-socialContainer").hide()})}),$(function(){$("body").on("click",".post-articleShowMoreMeta img",function(){var t=$(this).parent(".post-articleShowMoreMeta").data("post");$(this).hide(),$(this).siblings().show(),$(".post-articleExtraMetaIndicator[data-post='"+t+"']").toggle(),$(".post-articleExtraMeta[data-post='"+t+"']").toggle();var e=$(".post-articleExtraMeta[data-post='"+t+"']").css("display");"block"==e&&$(".post-articleExtraMeta[data-post='"+t+"']").css("display","inline")})}),$(function(){$("a.smoothScroll").on("click",function(t){if(""!==this.hash){t.preventDefault();var e=this.hash;$("html, body").animate({scrollTop:$(e).offset().top-200},800,function(){window.location.hash=e})}})}),$(function(){$(".statesLanding-mainContent").length&&($(".stateLink").hover(function(){var t=$(this).data("state");highlightState(t,"highlight")},function(){var t=$(this).data("state");highlightState(t,"unhighlight")}),$("#map path, #map g").not($(".nolink")).hover(function(){var t=$(this).attr("id");highlightList(t,"highlight"),highlightState(t,"highlight")},function(){var t=$(this).attr("id");highlightList(t,"unhighlight"),highlightState(t,"unhighlight")}),$("#map path.nolink, #map g.nolink, #map polygon").hover(function(t){var e=t.clientX+20+"px",a=t.clientY+20+"px",n=$(this).attr("id");state=n.replace(/-/g," "),state=state.toUpperCase(),$(".statesLanding-map").append("<div class='tooltip' style='top: "+a+"; left: "+e+"'><span>"+state+"</span><br /> No data available.</div>")},function(){$(".statesLanding-map .tooltip").remove()}),$("#map path, #map g").not($(".nolink")).click(function(){var t=$(this).attr("id");location.href="/states/"+t}))}),$(function(){if($(".isSticky").length){var t=this,e=$(".site-header").outerHeight()+32,a=$(".isSticky").offset().top-e,n=($(".isSticky").parent(".tableOfContents").offset().top-$(".isSticky").offset().top,$(".isSticky").parent(".tableOfContents").outerHeight()),s=$(".isSticky").width();$.fn.followTo=function(a){var i=this,o=$(t);o.scroll(function(t){currentPos=$(document).height()-($(window).height()+$("body").scrollTop()),o.scrollTop()>a&&currentPos<n?i.css({position:"fixed",top:e,width:s}):o.scrollTop()<a&&i.css({position:"initial",top:0})})},$(".isSticky").followTo(a)}$(".tableOfContents-dropdown").length&&$(".tableOfContents-dropdown").on("change",function(){var t=$(this).val();window.location=t,"#"!=t?$(".tableOfContents-instructions").css("display","inline-block"):$(".tableOfContents-instructions").hide()})});